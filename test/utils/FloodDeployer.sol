// SPDX-License-Identifier: AGPL-3.0
pragma solidity ^0.8.15;

import {IFloodPlain} from "flood-contracts/src/interfaces/IFloodPlain.sol";

/// @dev IMPORTANT NOTE: The FloodPlain contract deployed by this contract is compiled from https://github.com/Bunniapp/flood-contracts
/// instead of the official flood-contracts repo. The modified repo implements two essential fixes:
/// 1. Calls to permit2 are banned in hook calls to prevent frontrunning attacks that steal funds approved by order creators.
/// 2. The order hash is appended to the calldata during hook calls, which is necessary for the hook to verify the order
/// which is calling the hook.
abstract contract FloodDeployer {
    function _deployFlood(address permit2) internal returns (IFloodPlain deployed) {
        bytes memory bytecode =
            hex"60a0604052348015600f57600080fd5b50604051612ff8380380612ff8833981016040819052602c916040565b600180556001600160a01b0316608052606e565b600060208284031215605157600080fd5b81516001600160a01b0381168114606757600080fd5b9392505050565b608051612f376100c160003960008181610214015281816104a3015281816105ee0152818161076d015281816107d101528181610a2501528181610c3e01528181610e0c01526114690152612f376000f3fe6080604052600436106100ab5760003560e01c80636b224ccb116100645780636b224ccb1461024e578063762696631461026e57806378654a521461028e5780639d481b66146102ae578063af5e7f35146102ce578063e9ba1e97146102fe576100b2565b80633dd908fc1461014e57806341bac953146101815780634ee3995f146101a15780634ff68609146101c157806369604aad146101ef5780636afdd85014610202576100b2565b366100b257005b3480156100be57600080fd5b506000806100cc600161031e565b9150915060008083815481106100e4576100e4611d71565b6000918252602090912001546001600160a01b03169050368281039081111561010c57600080fd5b8083600037600080826000855afa90503d6000803e8061012b573d6000fd5b6000803d6000305af490503d6000803e808015610147573d6000f35b3d6000fd5b005b34801561015a57600080fd5b5061016e610169366004611d87565b61035d565b6040519081526020015b60405180910390f35b34801561018d57600080fd5b5061014c61019c366004611dda565b61036e565b3480156101ad57600080fd5b5061014c6101bc366004611e75565b6103c0565b3480156101cd57600080fd5b506101d6600081565b6040516001600160f81b03199091168152602001610178565b61014c6101fd366004611dda565b61068a565b34801561020e57600080fd5b506102367f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610178565b34801561025a57600080fd5b5061016e610269366004611d87565b610861565b34801561027a57600080fd5b5061014c610289366004611eeb565b61086d565b34801561029a57600080fd5b506102366102a9366004611f9c565b610ce7565b3480156102ba57600080fd5b5061016e6102c9366004611fb5565b610d11565b3480156102da57600080fd5b506102ee6102e9366004611d87565b610d8e565b6040519015158152602001610178565b34801561030a57600080fd5b506102ee610319366004611fd0565b610dd8565b60008060005b833560001a607f8116821b841793506001850194508060071c15610348575061034e565b50610356565b600701610324565b5090929050565b600061036882610e80565b92915050565b600061038261037d8380611ffa565b610e80565b9050807fedf49c003de6298f561a968ade35bd3dcf06ffa16979de375dbb39782d6fcbe4836040516103b491906122fd565b60405180910390a25050565b6103c8611241565b366103d38580611ffa565b905060006103e082610e80565b905060006103f46040840160208501611fb5565b6001600160a01b03161461049d576104126040830160208401611fb5565b6001600160a01b031663ad73d68983876040518363ffffffff1660e01b815260040161043f929190612354565b602060405180830381865afa15801561045c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610480919061237e565b61049d57604051630312285760e51b815260040160405180910390fd5b6104d9817f00000000000000000000000000000000000000000000000000000000000000006104d06101008601866123a0565b9092909161126b565b6104f1826104ea60208901896123e9565b84896112ac565b604051639e5f81f560e01b81526000906001600160a01b03871690639e5f81f590610548907f138beaebd34676ddcaaba2ac75bbd144c652c8c6d933f962245c61ffef90d72d90879033908b908b9060040161242f565b6020604051808303816000875af1158015610567573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061058b919061247d565b905060a08301358110156105b2576040516348879a0960e11b815260040160405180910390fd5b6105e8866105c66060860160408701611fb5565b836105d760a0880160808901611fb5565b6001600160a01b03169291906115e8565b61061b827f00000000000000000000000000000000000000000000000000000000000000006104d06101208701876123a0565b6001600160a01b0386166106356040850160208601611fb5565b6001600160a01b0316837fe8b2cfa73a11bd60479d92890aeb77bc5f502014ec530c3f0c1774d51680f0a68460405161067091815260200190565b60405180910390a450505061068460018055565b50505050565b610692611241565b3661069d8280611ffa565b905060006106aa82610e80565b905060006106be6040840160208501611fb5565b6001600160a01b031614610767576106dc6040830160208401611fb5565b6001600160a01b031663ad73d68983336040518363ffffffff1660e01b8152600401610709929190612354565b602060405180830381865afa158015610726573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061074a919061237e565b61076757604051630312285760e51b815260040160405180910390fd5b61079a817f00000000000000000000000000000000000000000000000000000000000000006104d06101008601866123a0565b6107b2826107ab60208601866123e9565b84336112ac565b60a08201356107cb336105c66060860160408701611fb5565b6107fe827f00000000000000000000000000000000000000000000000000000000000000006104d06101208701876123a0565b3361080f6040850160208601611fb5565b6001600160a01b0316837fe8b2cfa73a11bd60479d92890aeb77bc5f502014ec530c3f0c1774d51680f0a68460405161084a91815260200190565b60405180910390a450505061085e60018055565b50565b60006103688230611642565b610875611241565b6000846001600160401b0381111561088f5761088f612496565b60405190808252806020026020018201604052801561091d57816020015b61090a60408051610120810182526000808252602080830182905282840182905260608084015283518085019094528184528301529060808201908152602001600081526020016000815260200160608152602001606081525090565b8152602001906001900390816108ad5790505b50905060005b85811015610ac6573687878381811061093e5761093e611d71565b905060200281019061095091906124ac565b61095a9080611ffa565b9050600061096e6040830160208401611fb5565b6001600160a01b031614610a175761098c6040820160208301611fb5565b6001600160a01b031663ad73d68982886040518363ffffffff1660e01b81526004016109b9929190612354565b602060405180830381865afa1580156109d6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109fa919061237e565b610a1757604051630312285760e51b815260040160405180910390fd5b610a52610a2382610e80565b7f00000000000000000000000000000000000000000000000000000000000000006104d06101008501856123a0565b610a9781898985818110610a6857610a68611d71565b9050602002810190610a7a91906124ac565b610a889060208101906123e9565b610a9185610e80565b8a6112ac565b610aa08161273c565b838381518110610ab257610ab2611d71565b602090810291909101015250600101610923565b50604051639ad831a160e01b81526000906001600160a01b03861690639ad831a190610b1e907f138beaebd34676ddcaaba2ac75bbd144c652c8c6d933f962245c61ffef90d72d90869033908a908a9060040161294a565b6000604051808303816000875af1158015610b3d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b659190810190612aa4565b80519091508614610b895760405163512509d360e11b815260040160405180910390fd5b60005b86811015610cd45736888883818110610ba757610ba7611d71565b9050602002810190610bb991906124ac565b610bc39080611ffa565b90506000838381518110610bd957610bd9611d71565b602002602001015190508160800160200135811015610c0b576040516348879a0960e11b815260040160405180910390fd5b610c3088610c1f6060850160408601611fb5565b836105d760a0870160808801611fb5565b610c6b610c3c83610e80565b7f00000000000000000000000000000000000000000000000000000000000000006104d06101208601866123a0565b6001600160a01b038816610c856040840160208501611fb5565b6001600160a01b0316610c9784610e80565b6040518481527fe8b2cfa73a11bd60479d92890aeb77bc5f502014ec530c3f0c1774d51680f0a69060200160405180910390a45050600101610b8c565b505050610ce060018055565b5050505050565b60008181548110610cf757600080fd5b6000918252602090912001546001600160a01b0316905081565b600080546001810182558180527f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563810180546001600160a01b0319166001600160a01b0385169081179091556040519192909183917f4e9fefd4c8c265adad06de042ad222441165306e8ac23ea525dee33f40463e6491a3919050565b60008160c00135421115610da457506000919050565b610dbe610db46020840184611fb5565b8360e00135610dd8565b15610dcb57506001919050565b506000919050565b919050565b6040516313f80ad160e21b81526001600160a01b038381166004830152600883901c6024830152600091600160ff85161b917f00000000000000000000000000000000000000000000000000000000000000001690634fe02b4490604401602060405180830381865afa158015610e53573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e77919061247d565b16159392505050565b600080610e906060840184612b29565b905090506000816001600160401b03811115610eae57610eae612496565b604051908082528060200260200182016040528015610ed7578160200160208202803683370190505b50905060005b82811015610f3557610f10610ef56060870187612b29565b83818110610f0557610f05611d71565b905060400201611917565b828281518110610f2257610f22611d71565b6020908102919091010152600101610edd565b50610f446101008501856123a0565b905091506000826001600160401b03811115610f6257610f62612496565b604051908082528060200260200182016040528015610f8b578160200160208202803683370190505b50905060005b83811015610ff657610fd1610faa6101008801886123a0565b83818110610fba57610fba611d71565b9050602002810190610fcc91906124ac565b61198d565b828281518110610fe357610fe3611d71565b6020908102919091010152600101610f91565b506110056101208601866123a0565b905092506000836001600160401b0381111561102357611023612496565b60405190808252806020026020018201604052801561104c578160200160208202803683370190505b50905060005b848110156110905761106b610faa6101208901896123a0565b82828151811061107d5761107d611d71565b6020908102919091010152600101611052565b506040518060c0016040528060958152602001612e2b609591396040518060400160405280601f8152602001600080516020612ee2833981519152815250604051806060016040528060228152602001612ec0602291396040516020016110f993929190612b72565b60408051601f1981840301815291905280516020918201209061111e90880188611fb5565b61112e6040890160208a01611fb5565b61113e60608a0160408b01611fb5565b8660405160200161114f9190612bb5565b604051602081830303815290604052805190602001206111718b608001611917565b8b60c001358c60e001358960405160200161118c9190612bb5565b60405160208183030381529060405280519060200120896040516020016111b39190612bb5565b60408051601f1981840301815282825280516020918201209083019b909b526001600160a01b03998a1690820152968816606088015296909416608086015260a085019290925260c084015260e08301526101008201526101208101919091526101408101919091526101600160405160208183030381529060405280519060200120945050505050919050565b60026001540361126457604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b60005b83811015610ce0576112a485858381811061128b5761128b611d71565b905060200281019061129d91906124ac565b8484611a2d565b60010161126e565b3660006112bc6060880188612b29565b915091506112ca8282611b14565b156112e857604051637661c1bb60e11b815260040160405180910390fd5b6000816001600160401b0381111561130257611302612496565b60405190808252806020026020018201604052801561134757816020015b60408051808201909152600080825260208201528152602001906001900390816113205790505b5090506000826001600160401b0381111561136457611364612496565b6040519080825280602002602001820160405280156113a957816020015b60408051808201909152600080825260208201528152602001906001900390816113825790505b50905060005b8381101561146657368585838181106113ca576113ca611d71565b60408051808201825291029290920192508190506113eb6020840184611fb5565b6001600160a01b03168152602001826020013581525084838151811061141357611413611d71565b60200260200101819052506040518060400160405280886001600160a01b03168152602001826020013581525083838151811061145257611452611d71565b6020908102919091010152506001016113af565b507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663fe8ec1a760405180606001604052808581526020018c60e0013581526020018c60c00135815250838c60000160208101906114cd9190611fb5565b8a6040518060400160405280600e81526020016d4f72646572207769746e6573732960901b8152506040518060400160405280601f8152602001600080516020612ee2833981519152815250604051806060016040528060228152602001612ec0602291396040518060c0016040528060958152602001612e2b609591396040518060600160405280602e8152602001612dfd602e9139604051602001611578959493929190612beb565b6040516020818303038152906040528e8e6040518863ffffffff1660e01b81526004016115ab9796959493929190612c56565b600060405180830381600087803b1580156115c557600080fd5b505af11580156115d9573d6000803e3d6000fd5b50505050505050505050505050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b179052610684908590611bd2565b600036816116536060860186612b29565b90925090506000816001600160401b0381111561167257611672612496565b60405190808252806020026020018201604052801561169b578160200160208202803683370190505b5090506000826001600160401b038111156116b8576116b8612496565b6040519080825280602002602001820160405280156116e1578160200160208202803683370190505b50905060005b838110156117d3573685858381811061170257611702611d71565b905060400201905061171381611917565b83838151811061172557611725611d71565b6020026020010181815250507f618358ac3db8dc274f0cd8829da7e234bd48cd73c4a740aede1adec9846d06a160405180604001604052808360000160208101906117709190611fb5565b6001600160a01b031681526020018360200135815250604051602001611797929190612d3a565b604051602081830303815290604052805190602001208483815181106117bf576117bf611d71565b6020908102919091010152506001016116e7565b506040518060a0016040528060798152602001612d84607991396040518060400160405280601f8152602001600080516020612ee2833981519152815250604051806060016040528060228152602001612ec0602291396040518060c0016040528060958152602001612e2b609591396040518060600160405280602e8152602001612dfd602e9139604051602001611870959493929190612beb565b60405160208183030381529060405280519060200120826040516020016118979190612bb5565b60405160208183030381529060405280519060200120878960e001358a60c001356118c18c610e80565b6040805160208101979097528601949094526001600160a01b039092166060850152608084015260a083015260c082015260e0016040516020818303038152906040528051906020012094505050505092915050565b6000604051806060016040528060228152602001612ec06022913980516020918201209061194790840184611fb5565b604080516020818101949094526001600160a01b03909216908201529083013560608201526080015b604051602081830303815290604052805190602001209050919050565b60408051808201909152601f8152600080516020612ee28339815191526020918201526000907f5c84fb467590fc3d57e4dd07bfdffafa63f029f46e07ffeee858bde2dd2fa31f906119e190840184611fb5565b6119ee60208501856123e9565b6040516119fc929190612d61565b6040519081900381206119709392916020019283526001600160a01b03919091166020830152604082015260600190565b6000611a3c6020850185611fb5565b9050366000611a4e60208701876123e9565b9092509050813560201b63ffffffff1981167f138beaebd34676ddcaaba2ac75bbd144c652c8c6d933f962245c61ff0000000014801590611aa15750846001600160a01b0316846001600160a01b031614155b611ae35760405162461bcd60e51b815260206004820152600e60248201526d1350531250d253d554d7d0d0531360921b60448201526064015b60405180910390fd5b60405182848237868382015260008060208501836000895af1611b0a573d6000803e3d6000fd5b5050505050505050565b6000816001811115611bc85760006000198201815b81811015611bc457868682818110611b4357611b43611d71565b611b599260206040909202019081019150611fb5565b9250600101805b84811015611bbe57878782818110611b7a57611b7a611d71565b611b909260206040909202019081019150611fb5565b6001600160a01b0316846001600160a01b031603611bb657600195505050505050610368565b600101611b60565b50611b29565b5050505b5060009392505050565b6000611be76001600160a01b03841683611c3a565b90508051600014158015611c0c575080806020019051810190611c0a919061237e565b155b15611c3557604051635274afe760e01b81526001600160a01b0384166004820152602401611ada565b505050565b6060611c4883836000611c4f565b9392505050565b606081471015611c745760405163cd78605960e01b8152306004820152602401611ada565b600080856001600160a01b03168486604051611c909190612d71565b60006040518083038185875af1925050503d8060008114611ccd576040519150601f19603f3d011682016040523d82523d6000602084013e611cd2565b606091505b5091509150611ce2868383611cec565b9695505050505050565b606082611d0157611cfc82611d48565b611c48565b8151158015611d1857506001600160a01b0384163b155b15611d4157604051639996b31560e01b81526001600160a01b0385166004820152602401611ada565b5080611c48565b805115611d585780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b634e487b7160e01b600052603260045260246000fd5b600060208284031215611d9957600080fd5b81356001600160401b03811115611daf57600080fd5b82016101408185031215611c4857600080fd5b600060408284031215611dd457600080fd5b50919050565b600060208284031215611dec57600080fd5b81356001600160401b03811115611e0257600080fd5b611e0e84828501611dc2565b949350505050565b80356001600160a01b0381168114610dd357600080fd5b60008083601f840112611e3f57600080fd5b5081356001600160401b03811115611e5657600080fd5b602083019150836020828501011115611e6e57600080fd5b9250929050565b60008060008060608587031215611e8b57600080fd5b84356001600160401b0380821115611ea257600080fd5b611eae88838901611dc2565b9550611ebc60208801611e16565b94506040870135915080821115611ed257600080fd5b50611edf87828801611e2d565b95989497509550505050565b600080600080600060608688031215611f0357600080fd5b85356001600160401b0380821115611f1a57600080fd5b818801915088601f830112611f2e57600080fd5b813581811115611f3d57600080fd5b8960208260051b8501011115611f5257600080fd5b60208301975080965050611f6860208901611e16565b94506040880135915080821115611f7e57600080fd5b50611f8b88828901611e2d565b969995985093965092949392505050565b600060208284031215611fae57600080fd5b5035919050565b600060208284031215611fc757600080fd5b611c4882611e16565b60008060408385031215611fe357600080fd5b611fec83611e16565b946020939093013593505050565b6000823561013e1983360301811261201157600080fd5b9190910192915050565b6000808335601e1984360301811261203257600080fd5b83016020810192503590506001600160401b0381111561205157600080fd5b8060061b3603821315611e6e57600080fd5b6001600160a01b0361207482611e16565b168252602090810135910152565b81835260208301925060008160005b848110156120b6576120a38683612063565b6040958601959190910190600101612091565b5093949350505050565b6000808335601e198436030181126120d757600080fd5b83016020810192503590506001600160401b038111156120f657600080fd5b8060051b3603821315611e6e57600080fd5b6000808335601e1984360301811261211f57600080fd5b83016020810192503590506001600160401b0381111561213e57600080fd5b803603821315611e6e57600080fd5b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60008383855260208086019550808560051b830101846000805b8881101561220257858403601f19018a52823536899003603e190181126121b5578283fd5b880160406001600160a01b036121ca83611e16565b1686526121d987830183612108565b925081888801526121ed828801848361214d565b9c88019c965050509285019250600101612190565b509198975050505050505050565b600061014061222f8461222285611e16565b6001600160a01b03169052565b61223b60208401611e16565b6001600160a01b0316602085015261225560408401611e16565b6001600160a01b03166040850152612270606084018461201b565b8260608701526122838387018284612082565b925050506122976080850160808501612063565b60c083013560c085015260e083013560e08501526101006122ba818501856120c0565b868403838801526122cc848284612176565b93505050506101206122e0818501856120c0565b868403838801526122f2848284612176565b979650505050505050565b602081526000823561013e1984360301811261231857600080fd5b6040602084015261232e60608401858301612210565b905061233d6020850185612108565b848303601f19016040860152611ce283828461214d565b6040815260006123676040830185612210565b905060018060a01b03831660208301529392505050565b60006020828403121561239057600080fd5b81518015158114611c4857600080fd5b6000808335601e198436030181126123b757600080fd5b8301803591506001600160401b038211156123d157600080fd5b6020019150600581901b3603821315611e6e57600080fd5b6000808335601e1984360301811261240057600080fd5b8301803591506001600160401b0382111561241a57600080fd5b602001915036819003821315611e6e57600080fd5b63ffffffff198616815260806020820152600061244f6080830187612210565b6001600160a01b0386166040840152828103606084015261247181858761214d565b98975050505050505050565b60006020828403121561248f57600080fd5b5051919050565b634e487b7160e01b600052604160045260246000fd5b60008235603e1983360301811261201157600080fd5b604080519081016001600160401b03811182821017156124e4576124e4612496565b60405290565b60405161012081016001600160401b03811182821017156124e4576124e4612496565b604051601f8201601f191681016001600160401b038111828210171561253557612535612496565b604052919050565b60006001600160401b0382111561255657612556612496565b5060051b60200190565b60006040828403121561257257600080fd5b61257a6124c2565b905061258582611e16565b81526020820135602082015292915050565b600082601f8301126125a857600080fd5b813560206125bd6125b88361253d565b61250d565b8083825260208201915060208460061b8701019350868411156125df57600080fd5b602086015b84811015612604576125f68882612560565b8352918301916040016125e4565b509695505050505050565b6000601f83601f84011261262257600080fd5b823560206126326125b88361253d565b82815260059290921b8501810191818101908784111561265157600080fd5b8287015b848110156127305780356001600160401b03808211156126755760008081fd5b908901906040601f19838d0381018213156126905760008081fd5b6126986124c2565b6126a3898601611e16565b815282850135848111156126b75760008081fd5b8086019550508d603f8601126126cd5760008081fd5b88850135848111156126e1576126e1612496565b6126f08a848e8401160161250d565b94508085528e8482880101111561270957600092508283fd5b808487018b87013760009085018a0152808901939093525050845250918301918301612655565b50979650505050505050565b6000610140823603121561274f57600080fd5b6127576124ea565b61276083611e16565b815261276e60208401611e16565b602082015261277f60408401611e16565b604082015260608301356001600160401b038082111561279e57600080fd5b6127aa36838701612597565b60608401526127bc3660808701612560565b608084015260c085013560a084015260e085013560c0840152610100915081850135818111156127eb57600080fd5b6127f73682880161260f565b60e0850152506101208501358181111561281057600080fd5b61281c3682880161260f565b8385015250505080915050919050565b60008151808452602080850194506020840160005b8381101561287a5761286787835180516001600160a01b03168252602090810151910152565b6040969096019590820190600101612841565b509495945050505050565b60005b838110156128a0578181015183820152602001612888565b50506000910152565b600081518084526128c1816020860160208601612885565b601f01601f19169290920160200192915050565b600082825180855260208086019550808260051b84010181860160005b8481101561293d57858303601f19018952815180516001600160a01b031684528401516040858501819052612929818601836128a9565b9a86019a94505050908301906001016128f2565b5090979650505050505050565b6000608080830163ffffffff1989168452602060808186015281895180845260a0935060a08701915060a08160051b880101838c0160005b83811015612a6f57898303609f19018552815180516001600160a01b03168452610140818801516001600160a01b038116868a0152506040828101516001600160a01b03811687830152505060608083015182828801526129e58388018261282c565b9250505089820151612a0c8b87018280516001600160a01b03168252602090810151910152565b508189015160c08681019190915282015160e08087019190915282015185820361010080880191909152612a4083836128d5565b930151868403610120880152929150612a5b905081836128d5565b968801969450505090850190600101612982565b50506001600160a01b038b1660408901528781036060890152612a93818a8c61214d565b9d9c50505050505050505050505050565b60006020808385031215612ab757600080fd5b82516001600160401b03811115612acd57600080fd5b8301601f81018513612ade57600080fd5b8051612aec6125b88261253d565b81815260059190911b82018301908381019087831115612b0b57600080fd5b928401925b828410156122f257835182529284019290840190612b10565b6000808335601e19843603018112612b4057600080fd5b8301803591506001600160401b03821115612b5a57600080fd5b6020019150600681901b3603821315611e6e57600080fd5b60008451612b84818460208901612885565b845190830190612b98818360208901612885565b8451910190612bab818360208801612885565b0195945050505050565b815160009082906020808601845b83811015612bdf57815185529382019390820190600101612bc3565b50929695505050505050565b60008651612bfd818460208b01612885565b865190830190612c11818360208b01612885565b8651910190612c24818360208a01612885565b8551910190612c37818360208901612885565b8451910190612c4a818360208801612885565b01979650505050505050565b60c08152600061012082018951606060c0850152818151808452610140860191506020935060208301925060005b81811015612cbd57612caa83855180516001600160a01b03168252602090810151910152565b9284019260409290920191600101612c84565b505060208c015160e086015260408c01516101008601528481036020860152612ce6818c61282c565b92505050612cff60408401896001600160a01b03169052565b8660608401528281036080840152612d1781876128a9565b905082810360a0840152612d2c81858761214d565b9a9950505050505050505050565b82815260608101611c48602083018480516001600160a01b03168252602090810151910152565b8183823760009101908152919050565b6000825161201181846020870161288556fe5065726d697442617463685769746e6573735472616e7366657246726f6d28546f6b656e5065726d697373696f6e735b5d207065726d69747465642c61646472657373207370656e6465722c75696e74323536206e6f6e63652c75696e7432353620646561646c696e652c4f72646572207769746e65737329546f6b656e5065726d697373696f6e73286164647265737320746f6b656e2c75696e7432353620616d6f756e74294f726465722861646472657373206f6666657265722c61646472657373207a6f6e652c6164647265737320726563697069656e742c4974656d5b5d206f666665722c4974656d20636f6e73696465726174696f6e2c75696e7432353620646561646c696e652c75696e74323536206e6f6e63652c486f6f6b5b5d20707265486f6f6b732c486f6f6b5b5d20706f7374486f6f6b73294974656d286164647265737320746f6b656e2c75696e7432353620616d6f756e7429486f6f6b2861646472657373207461726765742c627974657320646174612900a264697066735822122078260581fcbe3eba200098dd7c7634b83775a57ea062c73bb5277795a0593b6564736f6c63430008190033";
        bytecode = bytes.concat(bytecode, abi.encode(permit2));
        assembly {
            deployed := create(0, add(bytecode, 32), mload(bytecode))
        }
    }
}
